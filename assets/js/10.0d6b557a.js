(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{513:function(t,e,o){},603:function(t,e,o){t.exports=o.p+"assets/img/colordisk.fe77d28a.svg"},604:function(t,e,o){var r=o(3),a=o(605);r({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},605:function(t,e,o){"use strict";var r=o(27),a=o(59),i=o(20),n=o(49),s=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,u=n("lastIndexOf"),d=l||!u;t.exports=d?function(t){if(l)return c.apply(this,arguments)||0;var e=r(this),o=i(e.length),n=o-1;for(arguments.length>1&&(n=s(n,a(arguments[1]))),n<0&&(n=o+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:c},606:function(t,e,o){"use strict";var r=o(3),a=o(59),i=o(607),n=o(253),s=o(4),c=1..toFixed,l=Math.floor,u=function(t,e,o){return 0===e?o:e%2==1?u(t,e-1,o*t):u(t*t,e/2,o)},d=function(t,e,o){for(var r=-1,a=o;++r<6;)a+=e*t[r],t[r]=a%1e7,a=l(a/1e7)},f=function(t,e){for(var o=6,r=0;--o>=0;)r+=t[o],t[o]=l(r/e),r=r%e*1e7},h=function(t){for(var e=6,o="";--e>=0;)if(""!==o||0===e||0!==t[e]){var r=String(t[e]);o=""===o?r:o+n.call("0",7-r.length)+r}return o};r({target:"Number",proto:!0,forced:c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}))},{toFixed:function(t){var e,o,r,s,c=i(this),l=a(t),v=[0,0,0,0,0,0],m="",g="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(o=(e=function(t){for(var e=0,o=t;o>=4096;)e+=12,o/=4096;for(;o>=2;)e+=1,o/=2;return e}(c*u(2,69,1))-69)<0?c*u(2,-e,1):c/u(2,e,1),o*=4503599627370496,(e=52-e)>0){for(d(v,0,o),r=l;r>=7;)d(v,1e7,0),r-=7;for(d(v,u(10,r,1),0),r=e-1;r>=23;)f(v,1<<23),r-=23;f(v,1<<r),d(v,1,1),f(v,2),g=h(v)}else d(v,0,o),d(v,1<<-e,0),g=h(v)+n.call("0",l);return g=l>0?m+((s=g.length)<=l?"0."+n.call("0",l-s)+g:g.slice(0,s-l)+"."+g.slice(s-l)):m+g}})},607:function(t,e,o){var r=o(41);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},608:function(t,e,o){"use strict";o(513)},638:function(t,e,o){"use strict";o.r(e);var r=o(47),a=(o(604),o(58),o(102),o(606),o(38),o(31),o(143),{name:"color-picker",props:{rgba:String,title:String},data:function(){return{alpha:1,defaultColor:"hsla(124, 96%, 50%, 1)",oLeft:"0",gLeft:"50%"}},computed:{showColor:function(){return{backgroundColor:this.defaultColor}}},mounted:function(){if(this.rgba){var t=this.rgba,e=+t.substring(t.lastIndexOf(",")+1,t.lastIndexOf(")"));this.alpha=e;var o=this.rgbToHSLArr(t);this.oLeft=100-100*e+"%",this.gLeft=o[2],this.defaultColor="hsla(".concat(o.join(","),", ").concat(this.alpha,")")}this.drawColorPicker()},methods:{drawColorPicker:function(){var t=this.$refs.myCanvas,e=t.getContext("2d"),o=this.$refs.myImage;o.onload=function(){e.drawImage(o,0,0,t.width,t.height)}},controlColor:function(){document.addEventListener("mousemove",this.moveColorBar),document.addEventListener("mouseup",this.removeColorBar)},moveColorBar:function(t){var e=this.$refs.myCanvas,o=this.$refs.selectColor,r=this.$refs.colorBar,a=e.getBoundingClientRect(),i=a.right-a.width/2,n=a.bottom-a.height/2,s=document.documentElement.scrollTop,c=t.pageX-i,l=t.pageY-s-n,u=Math.sqrt(Math.pow(c,2)+Math.pow(l,2)),d=c/u,f=Math.asin(d)/Math.PI/2*360;l>=0&&(f=f>=0?180-f:-180-f),o.style.transform="rotate(".concat(f.toFixed(2),"deg)"),r.style.transform="rotate(".concat(f.toFixed(2),"deg)");var h=e.getContext("2d"),v=a.width/2,m=(v-10)/u*c+v,g=(v-10)/u*l+v,p=h.getImageData(m,g,1,1),C=this.rgbToHSLArr("rgb(".concat(p.data.slice(0,3).join(","),")"));this.defaultColor="hsla(".concat(C.join(","),", ").concat(this.alpha,")")},removeColorBar:function(){document.removeEventListener("mousemove",this.moveColorBar),document.removeEventListener("mouseup",this.removeColorBar)},getLeftPer:function(t,e,o){var r=o.getBoundingClientRect(),a=r.width,i=r.left,n=t.pageX-i;n=Math.max(0,n);var s=(n=Math.min(a,n))/a;return e.style.left="".concat(100*s,"%"),s},controlOpacity:function(){document.addEventListener("mousemove",this.moveOpacityBar),document.addEventListener("mouseup",this.removeOpactiyBar)},moveOpacityBar:function(t){var e=this.$refs.opacityRadio,o=this.$refs.selectOpacity,r=this.getLeftPer(t,e,o),a=this.defaultColor.match(/\d+(%?)/g);this.alpha=1-r.toFixed(2),this.defaultColor="hsla(".concat(a.slice(0,3).join(","),", ").concat(this.alpha,")")},removeOpactiyBar:function(){document.removeEventListener("mousemove",this.moveOpacityBar),document.removeEventListener("mouseup",this.removeOpactiyBar)},rgbToHSLArr:function(t){var e=t.match(/\d+/g),o=e[0]/255,r=e[1]/255,a=e[2]/255,i=Math.max(o,r,a),n=Math.min(o,r,a),s=i-n,c=0,l=0,u=.5*(i+n);if(i!==n)switch(l=u<=.5?s/(2*u):s/(2-2*u),i){case a:c=(o-r)/s*60+240;break;case r:c=(a-o)/s*60+120;break;case o:c=r>=a?(r-a)/s*60:(r-a)/s*60+360}return[c=Math.round(c),l=Math.round(100*l)+"%",u=Math.round(100*u)+"%"]},hslaToRgba:function(t){var e=t.match(/(0\.)?\d+/g),o=Object(r.a)(e,4),a=o[0],i=o[1],n=o[2],s=o[3];if(a/=360,n/=100,0===(i/=100))return n=Math.round(255*n),"rgb(".concat(n,", ").concat(n,", ").concat(n,")");var c=function(t){var e=n>=.5?n+i-n*i:n*(1+i),o=2*n-e;switch(t<0&&(t+=1),t>1&&(t-=1),!0){case t>2/3:t=o;break;case t>=.5:t=o+6*(e-o)*(2/3-t);break;case t>=1/6:t=e;break;default:t=o+6*(e-o)*t}return Math.round(255*t)},l=c(a+1/3),u=c(a),d=c(a-1/3);return"rgba(".concat(l,", ").concat(u,", ").concat(d,", ").concat(s,")")},controlGrey:function(){document.addEventListener("mousemove",this.moveGreyBar),document.addEventListener("mouseup",this.removeGreyBar)},moveGreyBar:function(t){var e=this.$refs.greyRadio,o=this.$refs.selectGrey,r=this.getLeftPer(t,e,o),a=this.defaultColor.match(/\d+(%?)/g);a[2]=Math.ceil(100*r)+"%",this.defaultColor="hsla(".concat(a.slice(0,3).join(","),", ").concat(this.alpha,")")},removeGreyBar:function(){document.removeEventListener("mousemove",this.moveGreyBar),document.removeEventListener("mouseup",this.removeGreyBar)},cancel:function(){this.$emit("cancel")},confirm:function(){var t=this.hslaToRgba(this.defaultColor);alert("rgba颜色："+t),this.$emit("done",t)}}}),i=(o(608),o(2)),n=Object(i.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"color-picker"},[r("header",{staticClass:"title _drag-child"},[t._v(t._s(t.title))]),t._v(" "),r("main",{staticClass:"main"},[r("div",{staticClass:"container"},[r("img",{ref:"myImage",staticStyle:{display:"none"},attrs:{src:o(603)}}),t._v(" "),r("canvas",{ref:"myCanvas",staticClass:"color-box",attrs:{width:"192",height:"192"}}),t._v(" "),r("div",{staticClass:"show-color"},[r("div",{staticClass:"color-opacity"}),t._v(" "),r("div",{staticClass:"color-bg",style:t.showColor}),t._v(" "),r("div",{ref:"colorBar",staticClass:"color-bar",style:t.showColor}),t._v(" "),r("div",{ref:"selectColor",staticClass:"color-round"},[r("div",{ref:"colorRadio",staticClass:"radio",on:{mousedown:t.controlColor}})])])]),t._v(" "),r("div",{staticClass:"line"},[r("div",{ref:"selectOpacity",staticClass:"select-opacity"},[r("div",{staticClass:"opacity-bar"}),t._v(" "),r("div",{ref:"opacityRadio",staticClass:"radio",style:{left:t.oLeft},on:{mousedown:t.controlOpacity}})]),t._v(" "),r("div",{ref:"selectGrey",staticClass:"select-grey"},[r("div",{ref:"greyRadio",staticClass:"radio",style:{left:t.gLeft},on:{mousedown:t.controlGrey}})])])]),t._v(" "),r("footer",{staticClass:"footer"},[r("my-button",{staticClass:"btn-cancel",on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),r("my-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("Done")])],1)])}),[],!1,null,"177adf8e",null);e.default=n.exports}}]);