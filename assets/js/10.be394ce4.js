(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{563:function(t,e,o){},659:function(t,e,o){t.exports=o.p+"assets/img/colordisk.fe77d28a.svg"},660:function(t,e,o){var r=o(3),a=o(661);r({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},661:function(t,e,o){"use strict";var r=o(44),a=o(30),n=o(61),i=o(37),s=o(62),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),d=u||!f;t.exports=d?function(t){if(u)return r(l,this,arguments)||0;var e=a(this),o=i(e),s=o-1;for(arguments.length>1&&(s=c(s,n(arguments[1]))),s<0&&(s=o+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:l},662:function(t,e,o){"use strict";var r=o(3),a=o(1),n=o(4),i=o(61),s=o(288),c=o(284),l=o(5),u=a.RangeError,f=a.String,d=Math.floor,h=n(c),v=n("".slice),m=n(1..toFixed),g=function(t,e,o){return 0===e?o:e%2==1?g(t,e-1,o*t):g(t*t,e/2,o)},p=function(t,e,o){for(var r=-1,a=o;++r<6;)a+=e*t[r],t[r]=a%1e7,a=d(a/1e7)},C=function(t,e){for(var o=6,r=0;--o>=0;)r+=t[o],t[o]=d(r/e),r=r%e*1e7},y=function(t){for(var e=6,o="";--e>=0;)if(""!==o||0===e||0!==t[e]){var r=f(t[e]);o=""===o?r:o+h("0",7-r.length)+r}return o};r({target:"Number",proto:!0,forced:l((function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)}))||!l((function(){m({})}))},{toFixed:function(t){var e,o,r,a,n=s(this),c=i(t),l=[0,0,0,0,0,0],d="",m="0";if(c<0||c>20)throw u("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return f(n);if(n<0&&(d="-",n=-n),n>1e-21)if(o=(e=function(t){for(var e=0,o=t;o>=4096;)e+=12,o/=4096;for(;o>=2;)e+=1,o/=2;return e}(n*g(2,69,1))-69)<0?n*g(2,-e,1):n/g(2,e,1),o*=4503599627370496,(e=52-e)>0){for(p(l,0,o),r=c;r>=7;)p(l,1e7,0),r-=7;for(p(l,g(10,r,1),0),r=e-1;r>=23;)C(l,1<<23),r-=23;C(l,1<<r),p(l,1,1),C(l,2),m=y(l)}else p(l,0,o),p(l,1<<-e,0),m=y(l)+h("0",c);return m=c>0?d+((a=m.length)<=c?"0."+h("0",c-a)+m:v(m,0,a-c)+"."+v(m,a-c)):d+m}})},663:function(t,e,o){"use strict";o(563)},693:function(t,e,o){"use strict";o.r(e);var r=o(59),a=(o(660),o(73),o(125),o(662),o(49),o(19),o(173),{name:"color-picker",props:{rgba:String,title:String},data:function(){return{alpha:1,defaultColor:"hsla(124, 96%, 50%, 1)",oLeft:"0",gLeft:"50%"}},computed:{showColor:function(){return{backgroundColor:this.defaultColor}}},mounted:function(){if(this.rgba){var t=this.rgba,e=+t.substring(t.lastIndexOf(",")+1,t.lastIndexOf(")"));this.alpha=e;var o=this.rgbToHSLArr(t);this.oLeft=100-100*e+"%",this.gLeft=o[2],this.defaultColor="hsla(".concat(o.join(","),", ").concat(this.alpha,")")}this.drawColorPicker()},methods:{drawColorPicker:function(){var t=this.$refs.myCanvas,e=t.getContext("2d"),o=this.$refs.myImage;o.onload=function(){e.drawImage(o,0,0,t.width,t.height)}},controlColor:function(){document.addEventListener("mousemove",this.moveColorBar),document.addEventListener("mouseup",this.removeColorBar)},moveColorBar:function(t){var e=this.$refs.myCanvas,o=this.$refs.selectColor,r=this.$refs.colorBar,a=e.getBoundingClientRect(),n=a.right-a.width/2,i=a.bottom-a.height/2,s=document.documentElement.scrollTop,c=t.pageX-n,l=t.pageY-s-i,u=Math.sqrt(Math.pow(c,2)+Math.pow(l,2)),f=c/u,d=Math.asin(f)/Math.PI/2*360;l>=0&&(d=d>=0?180-d:-180-d),o.style.transform="rotate(".concat(d.toFixed(2),"deg)"),r.style.transform="rotate(".concat(d.toFixed(2),"deg)");var h=e.getContext("2d"),v=a.width/2,m=(v-10)/u*c+v,g=(v-10)/u*l+v,p=h.getImageData(m,g,1,1),C=this.rgbToHSLArr("rgb(".concat(p.data.slice(0,3).join(","),")"));this.defaultColor="hsla(".concat(C.join(","),", ").concat(this.alpha,")")},removeColorBar:function(){document.removeEventListener("mousemove",this.moveColorBar),document.removeEventListener("mouseup",this.removeColorBar)},getLeftPer:function(t,e,o){var r=o.getBoundingClientRect(),a=r.width,n=r.left,i=t.pageX-n;i=Math.max(0,i);var s=(i=Math.min(a,i))/a;return e.style.left="".concat(100*s,"%"),s},controlOpacity:function(){document.addEventListener("mousemove",this.moveOpacityBar),document.addEventListener("mouseup",this.removeOpactiyBar)},moveOpacityBar:function(t){var e=this.$refs.opacityRadio,o=this.$refs.selectOpacity,r=this.getLeftPer(t,e,o),a=this.defaultColor.match(/\d+(%?)/g);this.alpha=1-r.toFixed(2),this.defaultColor="hsla(".concat(a.slice(0,3).join(","),", ").concat(this.alpha,")")},removeOpactiyBar:function(){document.removeEventListener("mousemove",this.moveOpacityBar),document.removeEventListener("mouseup",this.removeOpactiyBar)},rgbToHSLArr:function(t){var e=t.match(/\d+/g),o=e[0]/255,r=e[1]/255,a=e[2]/255,n=Math.max(o,r,a),i=Math.min(o,r,a),s=n-i,c=0,l=0,u=.5*(n+i);if(n!==i)switch(l=u<=.5?s/(2*u):s/(2-2*u),n){case a:c=(o-r)/s*60+240;break;case r:c=(a-o)/s*60+120;break;case o:c=r>=a?(r-a)/s*60:(r-a)/s*60+360}return[c=Math.round(c),l=Math.round(100*l)+"%",u=Math.round(100*u)+"%"]},hslaToRgba:function(t){var e=t.match(/(0\.)?\d+/g),o=Object(r.a)(e,4),a=o[0],n=o[1],i=o[2],s=o[3];if(a/=360,i/=100,0===(n/=100))return i=Math.round(255*i),"rgb(".concat(i,", ").concat(i,", ").concat(i,")");var c=function(t){var e=i>=.5?i+n-i*n:i*(1+n),o=2*i-e;switch(t<0&&(t+=1),t>1&&(t-=1),!0){case t>2/3:t=o;break;case t>=.5:t=o+6*(e-o)*(2/3-t);break;case t>=1/6:t=e;break;default:t=o+6*(e-o)*t}return Math.round(255*t)},l=c(a+1/3),u=c(a),f=c(a-1/3);return"rgba(".concat(l,", ").concat(u,", ").concat(f,", ").concat(s,")")},controlGrey:function(){document.addEventListener("mousemove",this.moveGreyBar),document.addEventListener("mouseup",this.removeGreyBar)},moveGreyBar:function(t){var e=this.$refs.greyRadio,o=this.$refs.selectGrey,r=this.getLeftPer(t,e,o),a=this.defaultColor.match(/\d+(%?)/g);a[2]=Math.ceil(100*r)+"%",this.defaultColor="hsla(".concat(a.slice(0,3).join(","),", ").concat(this.alpha,")")},removeGreyBar:function(){document.removeEventListener("mousemove",this.moveGreyBar),document.removeEventListener("mouseup",this.removeGreyBar)},cancel:function(){this.$emit("cancel")},confirm:function(){var t=this.hslaToRgba(this.defaultColor);alert("rgba颜色："+t),this.$emit("done",t)}}}),n=(o(663),o(6)),i=Object(n.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"color-picker"},[r("header",{staticClass:"title _drag-child"},[t._v(t._s(t.title))]),t._v(" "),r("main",{staticClass:"main"},[r("div",{staticClass:"container"},[r("img",{ref:"myImage",staticStyle:{display:"none"},attrs:{src:o(659)}}),t._v(" "),r("canvas",{ref:"myCanvas",staticClass:"color-box",attrs:{width:"192",height:"192"}}),t._v(" "),r("div",{staticClass:"show-color"},[r("div",{staticClass:"color-opacity"}),t._v(" "),r("div",{staticClass:"color-bg",style:t.showColor}),t._v(" "),r("div",{ref:"colorBar",staticClass:"color-bar",style:t.showColor}),t._v(" "),r("div",{ref:"selectColor",staticClass:"color-round"},[r("div",{ref:"colorRadio",staticClass:"radio",on:{mousedown:t.controlColor}})])])]),t._v(" "),r("div",{staticClass:"line"},[r("div",{ref:"selectOpacity",staticClass:"select-opacity"},[r("div",{staticClass:"opacity-bar"}),t._v(" "),r("div",{ref:"opacityRadio",staticClass:"radio",style:{left:t.oLeft},on:{mousedown:t.controlOpacity}})]),t._v(" "),r("div",{ref:"selectGrey",staticClass:"select-grey"},[r("div",{ref:"greyRadio",staticClass:"radio",style:{left:t.gLeft},on:{mousedown:t.controlGrey}})])])]),t._v(" "),r("footer",{staticClass:"footer"},[r("my-button",{staticClass:"btn-cancel",on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),r("my-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("Done")])],1)])}),[],!1,null,"53ef00f6",null);e.default=i.exports}}]);