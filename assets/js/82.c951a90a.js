(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{702:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_10-24"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-24"}},[s._v("#")]),s._v(" 10.24")]),s._v(" "),t("p",[s._v("HTTP缓存分为强缓存和协商缓存")]),s._v(" "),t("p",[s._v("强缓存(disk cache)：浏览器不向服务器发送请求，直接从本地（一般来自硬盘）缓存中读取内容。")]),s._v(" "),t("p",[s._v("Expires: 设置过期时间，绝对时间\nCache-Control: 设置过期时间，相对时间，优先级高于Expires")]),s._v(" "),t("ol",[t("li",[s._v("Cache-Control: max-age=1000")]),s._v(" "),t("li",[s._v("Cache-Control: no-store 不缓存数据到本地")]),s._v(" "),t("li",[s._v(":public-可以被所有用户缓存，包括终端和CDN等中间代理服务器")]),s._v(" "),t("li",[s._v(":private-只能被终端浏览器缓存（私有缓存），不允许中继换号器进行缓存")]),s._v(" "),t("li",[s._v(":no-cache: 可以存储在本地缓存区中，只是与原始服务器进行新鲜度再验证之前，缓存不能将其提供给客户端使用")])]),s._v(" "),t("p",[s._v("协商缓存：会经过请求服务器来判断是否需要更新")]),s._v(" "),t("p",[s._v("Last-Modified：服务器第一次响应返回\nIf-Modified-Since: 后续请求带上的值")]),s._v(" "),t("ol",[t("li",[s._v("由于上面受到时间的限制，在本地打开缓存文件时，Last-Modified会被更改，因此需要用另一种表示资源变化，即ETag，优先级高于Last-Modified")]),s._v(" "),t("li",[s._v("If-Modified-Since检查的粒度是秒级，因此很短时间内变更无法判断")]),s._v(" "),t("li",[s._v("某些服务器不能精确获取文件最后修改时间")])]),s._v(" "),t("p",[s._v("ETag: 第一次响应的值，跟时间没有关系\nIf-None-Match: 后续请求带上的值")]),s._v(" "),t("h3",{attrs:{id:"页面解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#页面解析"}},[s._v("#")]),s._v(" 页面解析")]),s._v(" "),t("p",[s._v("JavaScript会阻塞DOM构建，CSSOM的构建会阻塞JavaScript的执行，因此通过推荐把CSS样式表放到"),t("code",[s._v("<head>")]),s._v("中，而JavaScript放到"),t("code",[s._v("<body>")]),s._v("中")]),s._v(" "),t("p",[s._v("defer: 在HTML解析完成后，安装脚本出现的顺序再顺序执行\nasync: 下载完成就立即开始执行，同时阻塞页面解析，不保证脚本间的执行顺序")]),s._v(" "),t("p",[s._v("使用gzip进行文本压缩")]),s._v(" "),t("div",{staticClass:"language-conf line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("gzip            on;\ngzip_min_length 1000;\ngzip_comp_level 6;\ngzip_types      application/javascript application/x-javascript text/javascript;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"js相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#js相关"}},[s._v("#")]),s._v(" js相关")]),s._v(" "),t("ol",[t("li",[s._v("动态加载(dynamic import)，例如在Vue中使用异步组件")]),s._v(" "),t("li",[s._v("代码压缩")]),s._v(" "),t("li",[s._v("Tree Shaking: ESM依赖\n例如：lodash一般安装版本是非ESM的，即使你在导入的时候使用"),t("code",[s._v("import cloneDeep from 'lodash/cloneDeep")]),s._v("的方式去导入，但是由于内部使用"),t("code",[s._v("require")]),s._v("的方式去导入一些其他的模块，造成不可避免的引入无关文件，因此，为了使用Tree Shaking，则需要安装它的ESM版本"),t("code",[s._v("lodash-es")])]),s._v(" "),t("li",[s._v("将基础库代码打包合并")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack.config.js")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n    optimization"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        splitChunks"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            chunks"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'all'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            minChunks"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            cacheGroups"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                commons"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    minChunks"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    automaticNamePrefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'commons'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    test"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("[\\\\/]node_modules[\\\\/]vue|vuex|vue-router")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    chunks"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'all'")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h3",{attrs:{id:"css相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css相关"}},[s._v("#")]),s._v(" CSS相关")]),s._v(" "),t("ol",[t("li",[s._v("MinCssExtractPlugin: 抽离CSS文件")]),s._v(" "),t("li",[s._v("压缩")]),s._v(" "),t("li",[s._v("避免深层嵌套")]),s._v(" "),t("li",[s._v("css中不要使用"),t("code",[s._v("@import")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);